{
  "FiaPhy Basic Setup": {
    "prefix": "fiaphy-basic",
    "body": [
      "#include <FiaPhy.h>",
      "#include <Adafruit_BME280.h>",
      "",
      "Adafruit_BME280 refSensor;",
      "Adafruit_BME280 fluxSensor;",
      "FiaPhy::DTDSS system;",
      "",
      "void setup() {",
      "    Serial.begin(115200);",
      "    refSensor.begin(0x76);",
      "    fluxSensor.begin(0x77);",
      "    system.configure(${1:latitude}, ${2:longitude}, ${3:altitude});",
      "}",
      "",
      "void loop() {",
      "    system.feedReferenceData(refSensor.readTemperature(),",
      "                            refSensor.readHumidity(),",
      "                            refSensor.readPressure() / 100.0);",
      "    ",
      "    system.feedFluxData(fluxSensor.readTemperature(),",
      "                       fluxSensor.readHumidity(),",
      "                       fluxSensor.readPressure() / 100.0);",
      "    ",
      "    if (system.isFrameReady()) {",
      "        FiaPhy::RadiationResult result = system.compute();",
      "        if (result.valid) {",
      "            Serial.print(\"GHI: \");",
      "            Serial.println(result.ghi_Wm2);",
      "        }",
      "    }",
      "    delay(${4:3000});",
      "}"
    ],
    "description": "Complete FiaPhy basic setup"
  },
  "FiaPhy Configure": {
    "prefix": "fiaphy-config",
    "body": [
      "system.configure(${1:latitude}, ${2:longitude}, ${3:altitude_m});"
    ],
    "description": "Configure FiaPhy system location"
  },
  "FiaPhy Feed Reference": {
    "prefix": "fiaphy-ref",
    "body": [
      "system.feedReferenceData(${1:temp_C}, ${2:humidity_RH}, ${3:pressure_hPa});"
    ],
    "description": "Feed reference sensor data"
  },
  "FiaPhy Feed Flux": {
    "prefix": "fiaphy-flux",
    "body": [
      "system.feedFluxData(${1:temp_C}, ${2:humidity_RH}, ${3:pressure_hPa});"
    ],
    "description": "Feed flux sensor data"
  },
  "FiaPhy Compute": {
    "prefix": "fiaphy-compute",
    "body": [
      "if (system.isFrameReady()) {",
      "    FiaPhy::RadiationResult result = system.compute();",
      "    if (result.valid) {",
      "        ${1:// Process result}",
      "    }",
      "}"
    ],
    "description": "Compute radiation with frame check"
  },
  "FiaPhy Thermodynamics": {
    "prefix": "fiaphy-thermo",
    "body": [
      "float e_s = FiaPhy::Thermodynamics::saturationVaporPressure(${1:temp_C});",
      "float rho = FiaPhy::Thermodynamics::airDensity(${2:pressure_hPa}, ${3:temp_C}, ${4:humidity_RH});"
    ],
    "description": "Thermodynamics functions"
  }
}
